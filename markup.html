
<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="stylesheet" href="blueblog-css/main.css" type="text/css" charset="utf-8">
    <link rel="stylesheet" href="blueblog-css/syntax.css" type="text/css" charset="utf-8">
    <title>Markup</title>
  </head>
  <body>
    <div class="nice-back">
      <div class="content-wrapper">
        <div class="heading">
          
          <span class="head-span">
            <a href="index.html">Mendoza</a>
          </span>
          
          <span class="head-span">
            <a href="markup-commands.html">Markup Commands</a>
          </span>
          
          <span class="head-main">
            <a href="markup.html">Markup</a>
          </span>
          
          <span class="head-span">
            <a href="syntax-highlighting.html">Highlighting</a>
          </span>
          
          <span class="head-span">
            <a href="templating.html">Templates</a>
          </span>
          
          <span class="head-span">
            <a href="static-content.html">Static Content</a>
          </span>
          
          <span class="head-span">
            <a href="api.html">Mendoza API</a>
          </span>
          
        </div>
      </div>
    </div>
    <hr>
    <div class="content-wrapper">
      <div class="inner-wrapper">
        
<h1>Mendoza Markup
</h1>
<p>Mendoza markup is used to create the main content
of your pages. It is mostly plain-text that is read by mendoza,
transformed into a document tree, and then rendered to the final
HTML for presentation.
</p>
<h2>Front Matter
</h2>
<p>All mendoza markup files must contain some front matter. The front
provides basic metadata for the document, parameters for templating, and
whatever Janet code you want to execute for side effects. The front matter
is just Janet source code and continues up until the <code class="mendoza-code">---</code>. The last
value in the front matter should be a table or struct, and will be merged
into the root node of the final document tree.
</p>
<p>Example:
</p>
<pre class="mendoza-codeblock"><code data-language="janet">{<span class="mdzsyn-keyword">:title</span> <span class="mdzsyn-string">"My Blog Post"</span>
 <span class="mdzsyn-keyword">:description</span> <span class="mdzsyn-string">"Mendoza is a new static site generator!"</span>
 <span class="mdzsyn-keyword">:template</span> <span class="mdzsyn-string">"main.html"</span>}
<span class="mdzsyn-comment"># End of front matter</span>
<span class="mdzsyn-symbol">---</span>
<span class="mdzsyn-comment"># Markup here...</span></code></pre><h2>Basic Syntax
</h2>
<h3>Paragraphs
</h3>
<p>After the front matter, the basic syntax of Mendoza markup
is pretty simple. Blocks of plain text separated by blank lines
become paragraphs. Mendoza
supports UTF-8, so there is no need to escape characters. To escape
a byte, use a backslash followed by the byte.
</p>
<h3>Headers
</h3>
<p>Simple, markdown like headers occur at the beginning of a line.
They are formed by 1 to 6 <code class="mendoza-code">#</code> characters in a line, followed
by the header title.
</p>
<h3>Macros
</h3>
<p>For all other markup, Mendoza requires the use of macros. Headers and paragraphs
can be specified with macros as well, but there is direct syntactic support for
these because they are so common.
</p>
<p>Macros correspond to Janet functions, which will evaluate the arguments and
return a DOM node to be inserted into the document. You can call normal Janet
functions in the code, as well other functions defined in the macro
environment. Macro calls begin with a <code class="mendoza-code">@</code> character, followed by the name
of the macro.
</p>
<p>For example:
</p>
<pre class="mendoza-codeblock"><code>This is some @green-thing text</code></pre><p>In this case <code class="mendoza-code">@green-thing</code> is not a real macro, but if it were, the value of <code class="mendoza-code">(green-thing)</code> from Janet would be spliced into the DOM.
</p>
<p>We can also pass arguments to macros in several ways.
</p>
<ul><li>Raw janet arguments: <code class="mendoza-code">@green-thing(1 true nil)</code> will be transformed to <code class="mendoza-code">(green-thing 1 true nil)</code></li>
    <li>Raw string: <code class="mendoza-code">@green-thing[1 true nil]</code> will be transformed to <code class="mendoza-code">(green-thing "1 true nil")</code></li>
    <li>Sub document: <code class="mendoza-code">@green-thing{More stuff @bold[here]}</code> will be transformed to <code class="mendoza-code">(green-thing ["More stuff " {:tag "bold" :content "here"}])</code> (or something similar).</li>
    <li>Some other ways to pass raw strings: <code class="mendoza-code">@mymac`a string`</code>, <code class="mendoza-code">@mymac"a string"</code></li></ul><p>You can also put different kinds of arguments together for expresive macros. For example, the
<code class="mendoza-code">@codeblock</code> macro can be used with this technique to great effect.
</p>
<pre class="mendoza-codeblock"><code>@codeblock[janet]```
(+ 1 2 3)
```</code></pre><p>The codeblock macro takes two string arguments, where the first specifies the
language to use for highlighting, and the second is the code to format, which
is given as a Janet multi-line backtick string. You could also write
</p>
<pre class="mendoza-codeblock"><code>@codeblock[janet][(+ 1 2 3)]</code></pre><p>as both forms pass two strings to the codeblock macro.
</p>
      </div>
    </div>
    <div class="pre-footer">
      <hr>
    </div>
    <footer>
      Copyright &copy; Calvin Rose 2019
    </footer>
  </body>
</html>
